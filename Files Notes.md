# Files Notes

These notes contain detailed desctiptions files relevant for incircuit testing with Keystone 3070. Not all files are covered here; an overview of all directories and files can be found in the general notes.

excerpt from `General Notes.md`

>These directories and files are generated by the **Test Consultant**:
>
>| Directories   | Files       |
>|---------------|-------------|
>| `analog/`     | `testplan`  |
>| `debug/`      | `testorder` |
>| `digital/`    | `pins`      |
>| `fixture/`    | `shorts`    |
>| `ipg/`        | `safeguard` |
>| `functional/` | `testjet`   |
>| `mixed/`      |             |

## File: `testorder`

This autogenerated file contains a list of all the tests that are part of a given board. There are four  main types of tests:

- **Analog** [compiled]
- **Digital** [compiled]
- **Mixed** [compiled]
- **Part**
  - capacitor
  - resistor
  - jumper [inductors, or interconnects]
  - diode
  - scan
  - [etc]

Each test entry includes the type of test, test name, and optional test attributes [permanent, nulltest, power, etc].

- Test can be skipped with **skip** keyword.
- Test are named by the part number they are testing.

`// open jumper means that the part is should not be installed`

### Testplan Generation

In order to avoid software overwriting the existing testplan, add `testplan generation off`.

## Files: `board` / `board_xy`

The `board` file contains a description [type, value, tolerance] of the devices on the board to be tested, their connections, and the test and fixture options. `board_xy` contains the x,y coordinates of each component, connect, via.

**Layout:**

- Global Options [fixture options]
- Device Options
- Component Values and Tolerances
- Topology [connections]

You can modify the `board` and `board_xy` files using the board consultant

### Global Options

This contains all the test and fixture options. Any values not specified here are taken from the _board\_defaults_ file.

### Device Options

Device options affect how tests are generated for each component. They can be overridfen with OVERRIDE keyword for each component.

### Family Options

These options specify the reference level voltage to be used for the logic families on the board.

### Fixed Node Options

A list of power supply nodes and a list of fixed nodes [nodes that cannot or should not be driven in library tests].

- Each fixed node must have a logic level specified for all families connected to it.
- One, and only one ground node must be specified.

`// a fixed node can be a node that is connected to a power node or ground through a very small resistor`

### GP Relay Options

Here you can assign general purpose [GP] relays to individual or pairs of nodes. GP relays are located on the Module Control Card, Utility Card, or on the AccessPlus Card [on mux systems].

### Library Options

This contains an ordered list of directories with libraries. Custom libraries should be listed first, so that they overrride any standard libraries.

### Override Keyword

Place the **OVERRIDE** word immediately after the device definition line and place the parameters to be overidden.

e.g.

``` basic
capacitor "c1" 0.1u 10 5 f;
  overide Tolerance Multiplier 1.0;
```

### **Device Definitions**

This specifies device names / id, values, tolerances, etc.

### Capacitor

| Option   | Description              |
|----------|--------------------------|
| device   | name of capacitor        |
| value    | value of capacitor       |
| +tol     | positive tolerance as %  |
| -tol     | negative tolerance as %  |
| F        | fixed capacitor value    |
| V        | variable capacitor value |
| options  | - PC{#}, poarity check</br>- NT, not tested</br>- PC {#} NT, only polarity check |
| PN       | Part Number              |
| failure message | message to be displayed on test failure |

### Diodes

**Reminder:** Anode of diode is on the positive terminal; Cathode of diode is on the negative terminal.

## **Debug Pin Tests**

The `pins` file is a subset of the `shorts` file; it is used to verify the board connections to the fixture. A violtage is applied to each node while grounding every other node; if a leakage current is found, the test will pass.